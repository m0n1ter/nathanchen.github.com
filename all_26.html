<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  NathanCHEN
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="NathanCHEN" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>

  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        <li id="menu_item_index"><a href="index.html">HOME</a></li>
        <li id="menu_item_archives"><a href="archives.html">Archives</a></li>
        <li id="menu_item_about"><a href="about.html">ABOUT</a></li>
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" action="http://google.com/search" method="get">
    <input type="hidden" name="q" value="site:nathanchen.github.io" />
    <input tabindex="1" type="search" name="q"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; NathanCHEN</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="Java.html">Java</a></li>
        
            <li><a href="JavaScript.html">JavaScript</a></li>
        
            <li><a href="Ngnix.html">Ngnix</a></li>
        
            <li><a href="tomcat.html">tomcat</a></li>
        
            <li><a href="spring.html">spring</a></li>
        
            <li><a href="RabbitMQ.html">RabbitMQ</a></li>
        
            <li><a href="ELK.html">ELK</a></li>
        
            <li><a href="TCP/IP.html">TCP/IP</a></li>
        
            <li><a href="%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB.html">源码阅读</a></li>
        
            <li><a href="others.html">others</a></li>
        
            <li><a href="%E6%95%B0%E6%8D%AE%E5%BA%93.html">数据库</a></li>
        
            <li><a href="PAXOS.html">PAXOS</a></li>
        
            <li><a href="%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90Java%20Web%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95.html">深入分析Java Web技术内幕</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="14457412434728.html">
                
                  <h1>---</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>layout: post<br/>
title: <q>分布式计算开源框架Hadoop介绍</q><br/>
category: Reading Notes </p>

<h2 id="toc_0">tags: [<q>读文章</q>, <q>Hadoop</q>, <q>分布式系统</q>]</h2>

<p>{% include JB/setup %}</p>

<p>Hadoop框架最核心的设计就是：MapReduce和HDFS。</p>

<p>HDFS是分布式计算的存储基石。分布式文件系统基本的几个特点：</p>

<ol>
<li>对于整个集群有单一的命名空间。</li>
<li>数据一致性。适合一次写入多次读取的模型，客户端在文件没有被成功创建之前无法看到文件的存在。</li>
<li>文件会被分割成多个文件块，每个文件块被分配存储到数据节点上，而且根据配置会由复制文件块来保证数据的安全性。</li>
</ol>

<p>整个HDFS有三个重要角色：NameNode、DataNode和Client。</p>

<ul>
<li><p>NameNode可以看作是分布式文件系统中的管理者，主要负责管理文件系统的命名空间、集群配置信息和存储块的复制等。</p>

<p>NameNode会将文件系统的metadata存储在内存中，这些信息主要包括了文件信息、每一个文件对应的文件块的信息和每一个文件块在DataNode的信息等。</p></li>
<li><p>DataNode是文件存储的基本单元，它将Block存储在本地文件系统中，保存了Block的metadata，同时周期性地将所有存在的Block信息发送给NameNode。</p></li>
<li><p>Client就是需要获取分布式文件系统文件的应用程序。</p></li>
</ul>

<p>文件写入：</p>

<p>1、 client向NameNode发起文件写入的请求。</p>

<p>2、 NameNode根据文件大小和文件块配置情况，<strong>返回给Client它所管理部分DataNode的信息</strong>。</p>

<p>3、 Client将文件划分成多个Block，根据DataNode的地址信息，按顺序写入到每一个DataNode块中。</p>

<p>文件读取：</p>

<ol>
<li>Client向NameNode发起文件读取的请求。</li>
</ol>

<p>2、 NameNode返回文件存储的DataNode的信息。</p>

<p>3、 Client读取文件信息。</p>

<p>文件Block复制：</p>

<p>1、 NameNode发现部分文件的Block不符合最小复制数或者部分DataNode失效。</p>

<p>2、 通知DataNode相互复制Block。</p>

<p>3、 DataNode开始直接相互复制。</p>

<p>HDFS的几个设计特点：</p>

<ol>
<li>Block的放置：默认不配置。一个Block会有三分备份，<strong>一份放在NameNode指定的DataNode</strong>， <strong>另一份放在与指定DataNode非同一Rack上的DataNode</strong>，最后一份<strong>放在与指定DataNode同一Rack上的DataNode上</strong>。</li>
<li>心跳检测DataNode的健康状态，如果发现问题就采取数据备份的方式来保证数据的安全性。</li>
<li>数据复制：使用HDFS的balancer命令，可以配置一个Threshold来平衡每一个DataNode磁盘利用率。执行balancer命令的时候，首先统计所有DataNode的磁盘利用率的均值，然后判断<strong>如果某一个DataNode的磁盘利用率超过这个均值Threshold以上，那么将会把这个DataNode的block转移到磁盘利用率低的DataNode，这对于新节点的加入来说十分有用</strong>。</li>
<li>数据交验：在文件Block写入的时候除了写入数据还会写入交验信息，在读取的时候需要交验后再读入。</li>
<li>NameNode是单点：如果失败的话，任务处理信息将会记录在本地文件系统和远端的文件系统中。</li>
<li>数据管道性的写入：当客户端要写入文件到DataNode上，首先客户端读取一个Block然后写到第一个DataNode上，然后有第一个DataBode传递到备份的DataNode上，一直到所有需要这个Block的DataNode都成功写入，客户端才会继续开始写下一个Block</li>
<li>安全模式：在分布式文件系统启动的时候，开始的时候会有安全模式，当分布式文件系统处于安全模式的情况下，文件系统中的内容不允许修改也不允许删除，直到安全模式结束。安全模式主要是为了系统启动的时候检查各个DataNode上数据块的有效性，同时根据策略必要的复制或者删除部分数据块。运行期通过命令也可以进入安全模式。</li>
</ol>

<p>在Hadoop的系统中，会有<strong>一台Master，主要负责NameNode的工作以及JobTracker的工作</strong>。JobTracker的主要职责就是启动、跟踪和调度各个Slave的任务执行。还会有<strong>多台Slave，每一台Slave通常具有DataNode的功能并负责TaskTracker的工作</strong>。TaskTracker根据应用要求来结合本地数据执行Map任务以及Reduce任务。</p>

<p>就是在分布式处理中，移动数据的代价总是高于转移计算的代价。简单来说就是分而治之的工作，需要将数据也分而存储，本地任务处理本地数据然后归总，这样才会保证分布式计算的高效性。</p>

<h3 id="toc_1">REFERENCE</h3>

<p>岑文初，<q>分布式计算开源框架Hadoop介绍</q></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2015/10/25</span>
                    
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14457412434647.html">
                
                  <h1>---</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>layout: post<br/>
title: <q>浅析爆库和社工库扫描</q><br/>
category: Reading Notes</p>

<h2 id="toc_0">tags: [<q>读文章</q>, <q>杂项</q>]</h2>

<p>{% include JB/setup %}</p>

<h4 id="toc_1">1. 目前网站中主流存放用户名和密码有三种：</h4>

<pre><code>* 明文存放。这种网络的用户数据特别危险，网络被黑客拿下，用户数据直接拿走。
* 可逆加密存放。密码被加密一次存放在网站的数据库中，可逆加密也是非常危险的。
* 不可逆加密。密码通过MD5等不可逆加密算法加密后存放在网络数据库中，比上述2中密码加密方式安全。（如果md5加密后的密码泄露，明文密码仍有通过查找表的方式反查出来的可能）
</code></pre>

<h4 id="toc_2">2. 黑客针对后台数据库的入侵手法：</h4>

<p>爆库，指将网站的数据库下载到本地。防爆库不仅仅是防止别人拿到你的库，还要做到让别人拿去也没用。</p>

<p>密码明文存储的，一定是死路；可逆加密的，只要黑客用点心，基本也不安全；</p>

<p>不可逆的，类似md5加密（md5虽然被证明可逆，但是逆向的成本很高，基本无人使用）应该很多人认为比较安全，但是遇到碰撞也很无奈。类似于碰撞库，其规模已经非常巨大，常规的密码的破解几率大于95%。</p>

<h4 id="toc_3">3. 如何规避这样的行为呢？</h4>

<p>一种是两次md5或者多次md5等加密保存方法，这种方法很好的避免了加密后的密码在碰撞库中出现。但是如果黑客拿到的数据库足够大时，有心的黑客会发现加密逻辑，还是有可能破解的。</p>

<p>Discuz就在使用一种低成本的安全密码保护策略，他们使用<strong>随机salt二次加密</strong>。这种方法会使黑客破解密码的成本大大提高。黑客如果想破解这样的密码，需要对每一个用户建立一个碰撞库，时间成本很高。对于大量用户的破解，黑客一般是选择放弃，投入产出比太低；但是对于单个明确目标的话，他们还是会乐于尝试的。</p>

<h4 id="toc_4">4. 社工库</h4>

<p>简单来说，你可能会在很多网站使用同样的邮箱和密码，社工库扫描就是利用这点，知道你一个账户后，就可以得到其他更有价值的账号。哪怕密码不相同，这个密码作为暴力破解中的关键字，也能大大提高破解率。</p>

<p>对于社工库扫描，网站通常的做法就是验证码（防暴力破解也是这种方法）。但是简单的验证码是很容易</p>

<p>而BT的验证码却会伤害用户体验，目前黑客也有应对BT验证码的方法。他们会将验证码集中传回到一个集中的地方，在网上请廉价的网络打工者填写。虽然这种方法成本有所提高，但是对于收益还是很低廉的。</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2015/10/25</span>
                    
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14457412434548.html">
                
                  <h1>---</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>layout: post<br/>
title: <q>有关京东商城采用.NET架构的社区讨论</q><br/>
category: Reading Notes</p>

<h2 id="toc_0">tags: [<q>读文章</q>, <q>杂项</q>]</h2>

<p>{% include JB/setup %}</p>

<p>观点：选择.NET不明智</p>

<p>廖雪峰：用.NET，意味着你被捆绑在Windows平台上。不是.NET效率本身比Java，PHP差，语言其实差距很小，</p>

<p>差距在于：</p>

<ol>
<li>Windows Server授权费太贵，Linux免费，如果你有上千台服务器需要买上千台Windows授权。</li>
<li>Windows不但贵，性能还远不如Linux，这里说的是服务器端性能，跟桌面没有关系。</li>
<li>许多开源、高端服务器组件只有Linux/Unix版本，移植到Windows上的基本上是半残品。</li>
<li>许多优化技术、高性能分布式缓存、数据库、NoSQL解决方案等等，仅针对Linux。</li>
<li>需要的一切组件和技术几乎都可以在Linux平台上找到免费、稳定而且高性能的东西，如果是Windows平台，就不一定能做到。</li>
<li>在虚拟化的今天，一台高性能服务器可以跑十几台虚拟机，用Linux，你得到的是免费、稳定的虚拟机，用windows，一台服务器的授权费将乘以N。</li>
</ol>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2015/10/25</span>
                    
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14457412434507.html">
                
                  <h1>---</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>layout: post<br/>
title: <q>云计算系统的容错和故障恢复1 2</q><br/>
category: Reading Notes </p>

<h2 id="toc_0">tags: [<q>读文章</q>, <q>分布式系统</q>]</h2>

<p>{% include JB/setup %}</p>

<ul>
<li><p>多副本的数据</p>

<p>云计算分布式文件系统保存了数据的多个副本（GFS缺省保存3份）</p></li>
<li><p>Worker故障</p>

<p>master通过内置的heartbeat/lease监控所有worker的状态，一旦确认某个worker故障，master会把该worker保存的数据的副本个数减一。</p></li>
<li><p>Master故障</p>

<p>为了避免master成为系统的单点，<strong>master也有多个副本</strong></p></li>
<li><p>应用程序容错</p>

<p>当应用程序需要使用数据时，云计算客户端库将询问云计算系统的master获得数据副本锁在的位置，并向其中一个副本（通常是与该客户端网络“距离”最近的）发出数据请求，如果该worker在开始或者中途出现故障或因为其他原因无法完成请求，则云计算客户端库会自动转向另外一个副本，这对上层应用是完全透明的。</p></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2015/10/25</span>
                    
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14457412434466.html">
                
                  <h1>---</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>layout: post<br/>
title: <q>云计算之分布式计算系统</q><br/>
category: Reading Notes</p>

<h2 id="toc_0">tags: [<q>读文章</q>, <q>Map/Reduce</q>, <q>分布式系统</q>]</h2>

<p>{% include JB/setup %}</p>

<ol>
<li><p>Google创造性地把Map/Reduce模型成功地应用到了云计算系统中，极大地降低了云计算系统应用程序的开发难度且提高了云计算系统的并行度和运行效率，这就是云计算的分布式计算系统。</p></li>
<li><p>它的基本原理是：每个应用程序被分成map函数和reduce函数，都由应用程序开发者编写，map函数的输入是 &lt; key, value &gt;对，输出的是中间结果&lt; key, value &gt;对，云计算分布式计算系统对这些中间结果按reduce分组，然后传给对应的reduce函数，reduce函数以迭代器的方式接受这些中间结果并进行合并等处理，然后输出所需的内容。例如，以海量文档的单词个数的统计问题为例，map函数输出的中间结果可以是：&lt; 单词,<q>1</q> &gt;</p></li>
</ol>

<h3 id="toc_1">云计算的分布式计算系统的主要优点是：</h3>

<p><strong>1. 应用程序开发者不需要设计、编写和调试并行程序</strong></p>

<p>开发者只需要设计、编写和调试普通的串行程序，即map函数和reduce函数，调试通过后提交到云计算系统，由云计算分布式系统框架把他们分发到成百上千台计算机（云计算的worker）上运行，并汇总和返回运行后的结果。</p>

<p>云计算分布式计算系统的master根据用户设置自动把作业切分为许多map任务和reduce任务，然后以按需的方式分配map和reduce任务到所有的worker上，每个worker完成一个任务后就报告给master，master就给该worker再分配一个map或reduce任务，该worker执行新分配的任务...，如此直到所有任务执行完。</p>

<p><strong>2. 适于异构集群</strong></p>

<p>快的worker执行更多的任务，慢的worker执行较少的任务。</p>

<p>由于整个作业被切分成许多map任务和reduce任务，worker故障后，只要再次执行对应的map和reduce任务即可；master则定期记录检查点（checkpoint），一旦master异常，新的master读入最后一次检查点。</p>

<p>云计算的分布式计算系统也有自身的局限性。云计算分布式系统的易用和高效建立在Map/Reduce模型的基础上。Map/Reduce模型要求切分出来的map和reduce可以多次以任意顺序执行而没有副作用。绝大部分应用能够适用于该模型，不适合的应用也常常能够找到可用的近似算法。</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2015/10/25</span>
                    
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   <a href="all_25.html">&laquo; Prev Page</a>  
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_27.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>NathanCHEN</h1>
                <div class="site-des"></div>
                <div class="social">











  <a class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>
              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Java.html"><strong>Java</strong></a>
        
            <a href="JavaScript.html"><strong>JavaScript</strong></a>
        
            <a href="Ngnix.html"><strong>Ngnix</strong></a>
        
            <a href="tomcat.html"><strong>tomcat</strong></a>
        
            <a href="spring.html"><strong>spring</strong></a>
        
            <a href="RabbitMQ.html"><strong>RabbitMQ</strong></a>
        
            <a href="ELK.html"><strong>ELK</strong></a>
        
            <a href="TCP/IP.html"><strong>TCP/IP</strong></a>
        
            <a href="%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB.html"><strong>源码阅读</strong></a>
        
            <a href="others.html"><strong>others</strong></a>
        
            <a href="%E6%95%B0%E6%8D%AE%E5%BA%93.html"><strong>数据库</strong></a>
        
            <a href="PAXOS.html"><strong>PAXOS</strong></a>
        
            <a href="%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90Java%20Web%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95.html"><strong>深入分析Java Web技术内幕</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="14590098445355.html">应用多级缓存模式支撑海量读服务</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14589988314853.html">浅谈Web缓存</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14588873943004.html">深入分析`Java I/O`的工作机制</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14588864645651.html">深入Web请求过程</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14588864364518.html">I</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    



  </body>
</html>
